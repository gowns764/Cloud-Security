# 클라우드 보안의 기본 개념

## 1. 클라우드 속성과 보안 특수성
- 클라우드 환경의 주요 속성은 크게 **멀티테넌시**, **접근성**, **탄력성**으로 구분할 수 있다.
  - 즉, 다수 사용자가 자원을 공유해서 사용하는 멀티테넌시, 누구나 쉽게 자원을 사용할 수 있는 접근성, 생성한 자원의 구조 변경이나 신규 자원의 생성/삭제가 쉽고 빠르게 이루어지는 탄력성 등이 있다.

### 1.1. 클라우드 속성

#### 1.1.1. 멀티테넌시
- 직역하면 '다수의 세입자'이다.
- 클라우드 서비스 제공자는 다수의 클라우드 사용자들에게 자원을 제공하기 위해 가상화 기술을 사용해 물리적인 자원을 논리적으로 분할하고 격리하여 나눠준다.
- 클라우드 사용자는 비용을 지불하고 대여한 자원의 운영체제 파라미터를 수정하거나, 접속 계정을 생성하고 소프트웨어를 설치하는 등의 내부 작업만 수행하면 된다.
  - 하지만, 가상화 기술을 통한 논리적 통제는 클라우드 제공자의 보안 기술과 통제 수준에 따라 중요한 데이터가 노출되거나 의도치 않게 내가 사용하는 자원에 다른 사용자의 접근을 허용하는 '공유' 문제를 일으킬 수도 있다.
  - 특히, 중요한 데이터가 저장죌 경우, 데이터의 독립성에 의해 물리적인 위치를 정확히 알 수 없으므로 자원 접근에 대한 통제 문제가 발생할 수 있다.
  - 그렇기 때문에, 데이터에 대한 암호화, 비밀키 또는 키 쌍 관리 보안과 접근 통로에 대한 모니터링 활동이 중요해지게 된다.

#### 1.1.2. 접근성
- 클라우드의 접근성이라는 속성은 공유라는 개념으로 이해할 수 있다.
  - 즉, 자원의 공유를 위해서 여러 사람이 인터넷을 통해 쉽게 접근할 수 있는 속성이다.
- 기존의 온프레미스 시스템에서는 내/외부에서 발생하는 접속 통제를 위해 네트워크 관점에서 경계를 지정하고, 경계마다 방화벽과 같은 각종 보안장치를 설치하여 자원을 '통제' 했다.
  - 하지만, 클라우드 환경은 권한만 있다면 사용자가 언제 어디서든 손쉽게 자원을 생성하고 방화벽과 같은 보안 기술을 적용할 수 있다.
- 클라우드 환경의 접근성을 고려하지 않고 기존 레거시 시스템과 유사한 방법으로 겹겹이 쌓인 보안 장비를 구축한다면, 막대한 보안 비용은 물론이고 클라우드만의 강점을 저해할 수 있으므로 초기 클라우드 보안 설계가 매우 중요하다.
  - 클라우드의 접근성은 장소와 시간에 자유로은 만큼, 적합한 보안 수준을 고민해야 한다.
  - 자원에 접근하고자 하는 주체가 누구인지 구분하고, 허락된 사용자가 접근하는지를 확인해서, 사용자가 수행하려는 작업의 권한을 확인하는 과정이 명확하면 된다.
  - 또한, 사용자가 수행하는 모든 일을 기록하고, 나중에 문제가 없는지 검토하는 과정을 포함하여 클라우드 환경에서의 보안 설계 방안을 수립할 수 있다.

#### 1.1.3. 탄력성
- 클라우드 환경에서의 자원들은 유연하게 변경되고, 빠르게 생성되거나 삭제될 수 있다.
  - 이러한 클라우드 환경의 속성이 탄력성이다.
- 클라우드 환경에서는 자원의 사양이 증설되는 스케일 업, 자원의 사양이 축소되는 스케일 다운, 동일한 자원이 추가로 생성되는 스케일 아웃, 동일한 자원 그룹 중에 하나의 자원을 삭제하는 스케일 인의 작업이 자동으로 빈번하게 발생한다.
  - 이러한 클라우드 환경의 탄력성으로 인해 무분별한 자원 증설이 발생할 수 있다.
  - 의도치 않은 비용 발생을 사전에 대응하기 위해서는 자원의 생성과 폐기, 변경에 대한 모니터링과 자동화를 기반으로 한 보안 설계와 보안 점검을 고민해볼 필요가 있다.

### 1.2. 클라우드 보안 특수성: 책임 추적성
- 책임 추적성이란 고유하게 식별된 사용자의 행위를 기록하여 수행한 행위에 대한 책임을 부여하고, 사용자 활동의 추적을 위하여 감사 로그와 모니터링을 하는 활동이다.
- 책임 추적성의 관점에서 자원을 활용하는 클라우드 사용자 또는 개발자, 고객 등의 모든 접속자에 대해, 각자 수행한 행위에 대한 책임을 부여하기 위하여 크게 6가지 활동이 필요하다.
  - 식별, 인증, 인가, 로깅, 감사, 모니터링
1. **식별**
   - 클라우드에 접속을 요청하는 주체가 스스로를 증명하기 위해 자신이 누구인지 식별 가능한 정보를 입력하는 활동
2. **인증**
   - 식별을 통한 사용자 정보 외에 본인을 증명할 수 있는 정보를 입력하여, 이를 토대로 허가된 사용자인지를 확인하는 신원 검증 활동
3. **인가**
   - 인증된 사용자에게 필요한 행위를 수행할 수 있도록 권한을 부여하는 활동
   - 주체는 자원에 접근 및 필요한 행위를 수행할 수 있음
4. **로깅**
   - 애플리케이션 접속/행위 로그,, 데이터 액세스 로그, 네트워크 통신 로그, 시스템 이벤트 로그, 관리자의 활동 로그 등 기록을 전자문서로 저장하는 행위
5. **모니터링**
   - 시스템, 네트웤, 데이터, 사용자 등이 시스템에서 수행한 행위에 대해서 이상징후 분석을 수행하고 실시간으로 수집된 자원의 변경이나 현황 정보를 대시보드 등으로 관리하는 활동
6. **감사**
   - 감사 로그. 사용자 접속 로그 등 로그 파일이나 활동 정보를 검토하여 보안 기준에 따라 계정과 권한 관리 여부를 확인하고 위험 요소를 관리할 수 있도록 보안 수준을 관리하는 활동

## 2. 일반 보안과 클라우드 보안 차이
- 클라우드 환경에서는 자원을 대여하여 활동하기 때문에, 기존의 보안 3요소만으로는 보안 수준을 충족할 수 없다.
  - 사용자가 접근할 수 없는 클라우드의 블랙박스 영역에서 동작하는 시스템이 어떤 물리적인 하드웨어 특성을 가졌는지, 물리적으로 어디에 위치하는지 등을 알기 어렵다.
  - 이용 중인 자원과 관련된 행위를 기록하고, 점검하고, 통제하고, 추적해야 보안 사고와 같은 특이사항이 발생했을 때 책임과 현상을 추적할 수 있다.
  - 따라서, 보안 3요소 + '책임 추적성'이라는 요소를 포함하여 클라우드 보안 4요소를 고민해야 한다.

## 3. 책임 범위
- 클라우드 서비스를 사용하는 서비스 이용자는 무엇보다 **'책임 공유 원칙'**을 고민해야 한다.
- 책임 공유 원칙이란 클라우드 서비스 제공자가 인프라를 관리하고 사용자는 가상의 자원을 대여해서 사용하기 때문에 발생하며, 클라우드 서비스에서 발생하는 보안 사고나 사건, 이슈 등에 대한 책임을 클라우드 서비스 제공자와 사용자가 공유해야 한다는 것이다.
  - 예를 들어, SaaS 서비스를 사용하는 클라우드 사용자는 애플리케이션 영역의 데이터, 사용자 인증 등의 보안 관리에 대해서만 책임을 담당한다.
  - 반면에, 클라우드 서비스 제공자는 애플리케이션 영역 하위의 플랫폼과 인프라 영역에 대한 전반벅인 보안 관리를 책임진다.
  - 이 처럼 하나의 자원을 사용하더라도 클라우드 서비스 제공자와 사용자 간의 책임 범위가 구별되므로, 사용자는 책임 범위를 인지하고 안전한 클라우드 서비스 사용을 위해서 보안 사고와 보안 위협에 대비해야 한다.
- 클라우드 환경에서 보안 사고가 발생했을 때 어느 영역에서 원인이 발생되었는지 추적하기 어려우며, 클라우드 서비스 제공자에게 정보를 요청하더라고 계약이나 보안 미설정으로 인해 추적이 어렵다는 답변을 받을 수 있다.
  - 따라서, 클라우드 서비스를 선택하는 경우에, 클라우드 서비스 제공자의 보안 수준을 검증해야 하고, 서비스 유형별로 책임 추적성을 확보하기 위한 계획을 마련해야 한다.
  - 기본적으로 식별 + 인가 + 인증 + 로깅 + 모니터링 + 감사의 6가지 요소를 필수적으로 설계한다면 책임 공유 원칙에 부합할 수 있다.

## 4. 클라우드 보안 모델

### 4.1. 성벽형/경계형 vs 공항형 보안 모델
- 기존의 시스템 보안은 **성벽형 보안 모델** 또는 **경계형 보안 모델**로 부를 수 있다.
  - 외부의 침입을 막기 위해 방화벽을 이용하여 접속 가능한 경로를 모두 제한하고, 오비ㅜ로부터의 네트워크망을 분리해서 통신을 통제하는 모델이다.
  - 시스템 보안 담장자는 내부의 핵심 자원을 식별하고, 외부와 분리하여 접근 통제를 수행하며, 공격 위협에 대해 보안 장비나 솔루션을 적용하여 보안을 강화한다.
- 반면, 클라우드 환경에서의 시스템 보안은 각기 다른 장소에서 클라우드의 자원을 사용하는 경우가 대부분이므로, 경계가 더 이상 물리적 위치에 한정되지 않아 **공항형 보안 모델**로 부를 수 있다.
  - 클라우드의 특징상 빠른 속도와 손쉬운 접속 환경을 제공하는 접근성으로 인해 빠르게 자원이 생성되고 삭제된다.
  - 따라서, 기존 보안 시스템으로 클라우드릐 변화 속도를 따라가기가 어렵다.
  - 특히, 핵심 자산을 식별하기 위한 자산 현황이 빠르게 변경된다.
  - 그리고, 클라우드 환경은 다수의 사용자가 자원을 공유하는 멀티테넌시 형태의 서비스를 사용하므로, 다수를 위한 경계형 보안 구도를 주축하게 되면 막대한 비용이 들어간다.
    - 그러므로, 클라우드 환경에 접속할 때 사용자 인증을 강화하고, 클라우드에서 전송하는 데이터들에 대해서 책임 추적성을 위한 보안 기능을 설정하는 공항형 보안 모델 수입리 보다 효율적이다.
    - 클라우드 환경의 접점에 대해서 인바운드와 아웃바운드의 양방향에 대한 내/외부 검사를 수행하고, 로깅과 모니터링 등을 구현하여 채익 추적성을 확보할 수 있다.
- 온프레미스 환경에서의 보안이 여러 계층의 단계적인 보안 통제를 적용하였다면, 클라우드 환경에서는 입구와 출구에서 외부 위협과 정보 유출의 통제하고 내부에서는 자유롭게 사용할 수 있도록 허용하되 책임 추적성을 위한 로깅을 강화하는 방식으로 보안 설계를 하는 것이 바람직하다.

### 4.2. 제로 트러스트 보안 모델
- 제로 트러스트 보안 모델은 내/외부 구분 없이 모든 영역을 위협의 대상으로 삼고 있다.
  - 모든 보안 영역을 세밀화하여 각각의 데이터마다 보안 요소를 설정하는 방법을 취하고 있다.

#### 4.2.1. 제로 트러스트 보안 모델 적용 과정
- **제로 트러스트를 적용하기 위한 철학**
  - 태도 : '세상에 믿을 사람은 없다'라는 기본 태도로 누구도 근거 없이 신뢰하지 않아야 한다. 
  - 신뢰 : 신원이 파악되기 전까지는 모든 클라우드 자원 접속은 차단한다.
- **적용하기 위한 전략** (순서)
  1. 차단 : 클라우드 환경으로 접근하기 전은 신원이 파악되기 이전이므로, 네트워크를 통한 모든 접속을 차단한다.
  2. 양방향 식별 : 접근 주체의 유형을 구분하지 않고, 해당 접근 주체가 누구인지 차악한다.
  3. 인증 : 자원에 접근하려는 주체가 허가된 주체가 맞는지, 입력한 인증 정보가 정확한지를 확인한다.
  4. 인가 : 접근 주체가 접근하려는 클라우드 자원에 대해 권한을 부여받는 것이 맞는지, 해당 클라우드 자원은 안전하게 보안 구성이 된 상태인지를 검사한 후, 정상 권한이 확인되면 접근을 허가한다.
  5. 접근 : 접근 주체는 클라우드 환경에서 자유롭게 자원을 사용한다.
- 위 프로세스처럼 제로 트러스트 보안 모델은 항상 불신을 전제로, 신원을 확인하고 모든 트래픽을 로깅과 감사, 모니터링을 통해 리뷰한다.
- 클라우드 환경에서 책임 추적성을 확보할 수 있는 보안 모델이다.