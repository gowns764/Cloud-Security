# 콘텐츠 보안 서비스
- 클라우드 환경에 보관된 파일, 영상, 데이터 등을 아우르는 콘텐츠를 안전하게 보관하려면 암호화 키와 복호화 키가 필요하다.

## 1. 키 관리 서비스 (KMS)
- 클라우드 환경에서 서버나 디스크의 내부 데이터를 암호화하려는 경우에 암/복호화 키가 필요하다.
  - 클라우드 환경에서는 키 발급과 관리, 보안 위협에 대한 방어까지 일원화된 **키 관리 서비스**를 제공한다.
  - 키 관리 서비스를 이용하면, 사용자는 암호화된 키를 별도로 보관하지 않고, 클라우드 내부 서비스로 키를 발급받아 지속적인 데이터 암/복호화 수행에 활용할 수 있다.
- 사용자가 데이터를 클라우드 환경에 저장하려는 경우, 키 관리 서비스에서 발급된 암호화 키를 이용하여 데이터 암호화를 수행한다.
  - 스토리지에 저장된 암호화 데이터를 사용할 때도 키 관리 서비스에서 복호화 키를 발급받아 암호문을 평문으로 변환한다.
- 키 관리 서비스는 암호화에 사용한 암호화 키를 보관하고 암호 모듈과 통신하여 암호화 키를 새롭게 변경하는 등의 암호화 키의 라이프사이클을 관리한다.
  - 암호 모듈은 암호 알고리즘과 키 생성 함수로 구성된 하드웨어나 소프트웨어를 말한다.
- 키 관리 서비스는 '암호화 키 정책'에 따라 암호 모듈에 신규 암호화 키 생성을 요청하고, 암호 모듈은 생성한 암호화 키를 다시 키 관리 서비스로 전달한다.
  - 클라우드 암호화 관리 서비스는 암호화 키의 상태와 라이프사이클을 관리한다.
  - 암호화 키의 상태는 총 5가지가 있다.
  - |단계|설명|
    |:-:|:-:|
    |준비상태|암호화 키가 생성되었지만, 사용이 허가되지 않은 상태|
    |운영상태|암호화, 복호화에 사용되는 상태|
    |정지상태|암호화 키의 유효기간이 만료되어 키를 변경해야 하는 상태<br>기존에 암호화된 정보를 처리하기 위해 일정 기간 보관|
    |폐기상태|키 파기 기능으로 암호화 키가 폐기된 상태|
    |위험상태|허가되지 않은 공격자에게 암호화 키가 노출된 상태|

## 2. 키 관리 보안 모듈 (Cloud HSM)
- **클라우드 HSM**(Cloud Hardware Security Module)은 암호화 키를 필요로 할 때, 별도의 전용 장치로 암호화 키를 생성, 저장, 백업, 복구를 제공하는 서비스이다.
  - 보안 향상과 성능 향상, 관리 효율성을 강점으로 활용성이 높다.
- 클라우드 HSM은 암호화 키를 보관하기 위한 목적으로 만들어진 전용 장비이다.
  - 공격자가 암호화 키를 유출하려고 시도할 때, 이를 감지하여 저장됭 있던 암호화 키를 스스로 삭제하는 기능이 있다.
- 클라우드 HSM은 애플리케이션을 통해 키를 관리하는 것보다 뛰어난 성능을 제공한다.
  - 클라우드 HSM 서비스는 자체적으로 암호화 키를 손쉽게 생성하고 사용할 수 있도록 지원하는 하드웨어 보안 모듈이다.
  - 사용자를 위해 하드웨어 프로비저닝, 소프트웨어 패치, 고가용성, 백업 등의 관리 작업을 자동화하고, 클라우드 HSM의 사용자를 생성하고 정책을 설정해 접근제어를 수행할 수 있도록 기능을 제공한다.
  - 애플리케이션들에서 데이터의 암호화를 요청할 때, 자동으로 부하를 분산시켜 클라우드 HSM에 저장된 키를 클러스터 기능으로 다른 HSM으로 안전하게 복제하는 기능을 제공한다.
    - 즉, 애플리케이션 대신 키생성과 처리를 수행하므로 부하를 줄여준다.
- 클라우드 HSM은 중앙 집중적인 키 관리를 수행한다.
  - 클라우드 사용자가 자신의 클라우드 가상 네트워크에서 클라우드 HSM을 구성하여 독점적으로 제어하는 서비스이다.
  - 따라서, 클라우드 서비스 사용자는 클라우드 HSM으로 안전하게 키를 보관할 수 있고, 암호화 키의 생성, 백업, 복구, 파기 등의 관리 정책을 별도로 운영할 수 있다.

## 3. 민감정보 자동 검색, 분류, 보호 서비스 (DLP)
- 사용자는 클라우드 서비스를 통해 시간과 공간의 제약 없이 데이터에 접속하고 개인의 IT 기기를 사용하는 것에 자유롭다.
  - 그에 따라 허용하지 않는 사용자가 클라우드 자원을 사용하게 되는 일명 **섀도 IT**의 보안 취약점이 발생할 수 있다.
  - 즉, 시스템 관리자에 의해서 통제되지 않는 사용자들이 클라우드 환경에 임의로 접근하거나 데이터를 유출하는 사고가 증가한다.
  - 이에 대응하고자 등장한 보안 솔루션이 **DLP**(Data Loss Prevention) 솔루션이다.
- 클라우드 서비스를 통한 DLP 서비스는 클라우드 사용자가 누락한 개인정보나 민감한 데이터를 자동으로 분석하여 마스킹 작업 등의 비식별화 처리하는 것이다.
  - 만약, 중요한 정보가 승인 없이 외부로 전송된 경우에 DLP 서비스는 메시지를 별도로 분류하여 격리할 수 있고, 메시지의 발송을 지연 또는 차단하는 정책을 설정할 수 있다.
  - 최근에는 비트맵이나 JPEG, PNG 등의 이미지 파일에서 글자를 인식하는 OCR 기술을 이용하여 중요한 정보가 이미지 형태로 유출되는 것을 차단할 수 있다.

## 4. 환경변수 관리 서비스
- 클라우드 서비스에서 사용하는 애플리케이션 간 정보 교환과 데이터베이스 패스워드, API 호출을 위한 키 값, 라이선스 키 값 등을 환경변수 안에 보관이 필요한 경우가 있다.
  - 보통 중요한 정보이기 때문에 별도의 암복호화 기능을 애플이케이션으로 구현하여 타깃 정보를 암호화하여 저장한다.
  - 그러나, 클라우드 보안 서비스 중 중요한 **환경변수 관리 서비스**는 별도로 애플리케이션의 기능 구현 없이 타깃 정보를 암호화하여 저장할 수 있고, 애플리케이션에서 호출하는 경우에도 권한제어와 인가된 호출은 복호화된 정보를 반환한다.
- 환경변수 관리 서비스는 상호 애플리케이션 간에 사용해야 할 중요 정보가 평문으로 노출되는 것을 방지하고 네트워크 통신 구간에는 통신 구간 암호화를 적용해서 환경변수를 전달한다.
  - 또한, 다른 클라루드 서비스들과 연계하여 더 강력하게 중요한 정보를 관리할 수 있다.
  - 예) KMS, 알람 서비스, 로깅 서비스