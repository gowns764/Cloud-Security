# 컴퓨터 자원 및 저장소 보안 서비스
- 클라우드 환경에서 컴퓨팅 자원과 저장소 보안 즉, IaaS 기반으로 제공되는 서버, 가상머신, 파일 시스템 등의 보안은 기존 온프레미스와 크게 다르지 않다.
  - 컴퓨팅 자원과 저장소 보안은 기존의 보안 담당자가 수행한 보안 항목과 다르지 않으며, 클라우드 환경에서 보안 서비스를 직접 구축해야 하는 항목이다.
- 만약, 운영체제가 설치된 상태로 제공된 클라우드 컴퓨팅 자원 저장소의 보안성 수준을 확보하고자 한다면, 클라우드 자원의 접근 포인트부터 그 위의 애플리케이션, 데이터, 미들웨어까지 모두 관리해야 한다.

## 1. 중계 서버(Bastion-host)
- 클라우드 서비스에서 활용하려는 대부분의 자원은 프라이빗 서브넷에 배치하는 것이 일반적이다.
  - 일반적으로 서버 자원이나 데이터베이스 자원, 컨테이너 자원 들은 보안성 향상을 위해서 프라이빗 네트워크에 위치한다.
  - 그러나, 외부의 악의적인 위협을 방지하기 위해 내부망에 있는 클라우드 자원을 대상으로 서비스 설정을 위한 접속이 불가피하다.
  - 인터넷망에서 클라우드 자원에 접근하기 위해 **배스천 호스트** 또는 **중계 서버**를 활용한다.
  - 즉, 네트워크 내부와 외부 사이의 연결을 위해 중계 역할을 수행하는 서버 또는 호스트를 구성한다.
- 내부망의 보호 대상인 서버 자원은 접근 가능한 경로를 최소화하는 목적으로 '배스천 호스트'의 접근만을 허가한다.
  - 아를 '점프 호스트'로 접근한다라고 한다.
- 외부망에 있는 배스천 호스트는 인가된 사람만 접속하도록 배스천 호스트에만 할당된 방화벽의 인바운드 규칙을 명확하게 설정해주어야 한다.
  - 그리고 배스천 호스트를 접속함과 동시에, 배스천 호스트와 내부망의 자원으로 터널링을 연결하여 원하는 클라우드 자원으로 접속한다.
- 중계 서버는 클라우드 서버 자원과 컨테이너 자원, 관리형 서비스 자원에도 동일하게 적용 가능한 자체적인 보안 구축 방법이다.
  - 배스천 호스트의 인바운드 방화벽 규칙은 명확한 출발지 IP로 설정해서 퍼블릭 서브넷에 위피한 배스천 호스트의 보안성도 향상시킨다.
  - 명확한 출발지의 의미는 배스천 호스트로 접속하는 출발지 IP 대역을 범위로 설정하지 않고, 정확한 출발지 IP로 명시하는 것이다.
  - 또한, 배스천 호스트의 접속이 필요한 경우만 자원을 가동시키고, 그 외의 시간에는 자원을 중지한다.

## 2. 클라우드 서비스 자원 간의 내부 게이트웨이(Inner Gateway) 구성
- 클라우드 환경에서 대국민 서비스 또는 멀티 클라우드 전략으로 특정 자원을 내외부에 개방하여 공용으로 사용하는 경우가 있다.
  - 이러한 경우, 외부의 인터넷 환경으로 개방된 스토리지와 데이터베이스 자원으로 저장할 때 취약점이 존재한다.
- 예로, 공용 IP를 보유한 스토리지와 데이터베이스 자원이 외부에 노출되어 있고, 해당 저장소에 저장 작업을 수행하는 컴퓨팅 자원이 있다.
  - 공용 IP를 호출해서 데이터를 저장하므로 민감한 데이터를 저장하는 과정 중에 평문 데이터가 노출되거나, 위/변조되어 저장될 수 있는 취약점이 존재한다.
  - 따라서, 클라우드 자원 간 **내부 게이트웨이**를 구성헤서 구간 암호화 통신으로 외부 노출을 줄여 안전한 데이터 저장 프로세스를 수행할 수 있다.
  - 내부 게이트웨이는 일명 프라이빗 링크로 불리기도 한다.